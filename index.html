<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-BITBOY-DEX :: STRATEGIC SYNTHESIS CORE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.6.0/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/3.0.1/chartjs-plugin-annotation.min.js"></script>
    <script src="https://unpkg.com/@web3modal/standalone@3.1.0/dist/index.umd.js"></script>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.19.0"
  }
}
</script>
</head>
<body>
    <div class="container">
        <header class="header">
            <span>AI-BITBOY-DEX :: STRATEGIC SYNTHESIS CORE</span>
            <div class="header-controls">
                <button id="connect-wallet-btn">
                    <i class="fas fa-wallet"></i> <span>CONNECT WALLET</span>
                </button>
                <div class="autotrader-toggle">
                    <span>AUTOTRADER</span>
                    <label class="switch">
                        <input type="checkbox" id="autotrader-switch">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="status-indicator">
                    <div id="status-light" class="status-light"></div>
                    <span id="status-text">SYSTEM ONLINE</span>
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- COLUMN 1: Control & Synthesis -->
            <div class="main-column column-left">
                <div id="ai-synthesis" class="panel">
                    <h2 class="panel-title"><i class="fas fa-brain"></i>AI PERSONA &amp; CAPITAL</h2>
                     <div id="persona-selector" class="persona-selector">
                        <!-- Personas will be injected here -->
                    </div>
                    <div class="ai-provider-container">
                        <h3 class="form-label">AI PROVIDER</h3>
                        <div id="provider-selector" class="provider-selector">
                            <!-- AI Providers will be injected here -->
                        </div>
                        <div id="local-model-container" class="provider-input-group" style="display: none;">
                             <label for="local-model-input">OLLAMA MODEL</label>
                             <input type="text" id="local-model-input" class="override-input">
                        </div>
                    </div>
                    <div class="allocation-container">
                        <label for="allocation-slider" class="form-label">ALLOCATION: <span id="allocation-value">50%</span></label>
                        <input type="range" id="allocation-slider" min="0" max="100" value="50" class="form-range">
                    </div>
                    <div id="manual-overrides-container" class="manual-overrides-container">
                        <h3 class="form-label">MANUAL OVERRIDES</h3>
                        <div class="override-input-group">
                            <label for="manual-tp-input">TAKE PROFIT</label>
                            <input type="number" id="manual-tp-input" class="override-input" placeholder="e.g., 70000">
                        </div>
                        <div class="override-input-group">
                            <label for="manual-sl-input">STOP LOSS</label>
                            <input type="number" id="manual-sl-input" class="override-input" placeholder="e.g., 65000">
                        </div>
                    </div>
                </div>
                <div id="ai-operations" class="panel">
                    <h2 class="panel-title"><i class="fas fa-cogs"></i>AI OPERATIONS LOG</h2>
                    <div id="ai-operations-container">
                         <div class="ai-status-box">
                            <p id="ai-status-text" class="ai-status-text">AWAITING DIRECTIVE</p>
                        </div>
                        <div id="ai-log" class="ai-log">
                            <!-- Log items will be injected here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- COLUMN 2: Chart & Directives -->
            <div class="main-column column-center">
                 <div id="market-chart-panel" class="panel">
                    <div class="panel-header">
                        <h2 class="panel-title"><i class="fas fa-chart-bar"></i>MARKET ANALYSIS :: BTC/USD</h2>
                        <div class="timeframe-selector">
                            <button class="timeframe-btn active">1H</button>
                            <button class="timeframe-btn">4H</button>
                            <button class="timeframe-btn">1D</button>
                            <button class="timeframe-btn">1W</button>
                            <button id="reset-zoom-btn" class="timeframe-btn" aria-label="Reset Zoom"><i class="fas fa-search-minus"></i></button>
                        </div>
                    </div>
                    <div id="chart-container">
                        <canvas id="marketChart"></canvas>
                    </div>
                </div>
                 <div id="directive-panel" class="panel">
                    <h2 class="panel-title"><i class="fas fa-file-alt"></i>TRADE DIRECTIVE</h2>
                    <div id="directive-output">
                       <span class="placeholder">Select a persona and generate a directive...</span>
                    </div>
                     <div class="btn-group">
                       <button id="generate-directive-btn" class="btn btn-buy">GENERATE DIRECTIVE</button>
                    </div>
                </div>
            </div>

            <!-- COLUMN 3: Intel & History -->
            <div class="main-column column-right">
                <div id="market-intel" class="panel">
                    <h2 class="panel-title"><i class="fas fa-satellite-dish"></i>MARKET INTEL</h2>
                    <div id="sentiment-gauge-container">
                        <!-- Sentiment Gauge will be injected here -->
                    </div>
                    <div class="intel-grid">
                        <div class="data-point">
                            <h3>24H Volume</h3>
                            <p>$45.2B</p>
                        </div>
                        <div class="data-point">
                            <h3>Dominance</h3>
                            <p>BTC 51.7%</p>
                        </div>
                         <div class="data-point">
                            <h3>Volatility</h3>
                            <p class="negative">HIGH</p>
                        </div>
                    </div>
                     <h3 class="news-title">LATEST INTEL FEED</h3>
                    <div id="news-feed" class="news-feed">
                        <!-- News items will be injected here -->
                    </div>
                </div>
                 <div id="trade-history-panel" class="panel">
                    <h2 class="panel-title"><i class="fas fa-history"></i>TRADE HISTORY</h2>
                    <div id="trade-history" class="trade-history">
                        <!-- Trade history will be injected here -->
                         <div class="placeholder">No trades completed yet.</div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div id="notification-container"></div>
    <script type="module" src="index.tsx"></script>
</body>
</html>